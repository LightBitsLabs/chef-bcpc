nodes:
  - host: r1n0
    group: bootstraps
    hardware_profile: bootstrap
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.1
        transit:
          - cidr: 10.129.1.2/28
            mac: '08:00:27:00:00:10'
            neighbor:
              ip: 10.129.1.1
              asn: 4200858111
          - cidr: 10.129.1.18/28
            mac: '08:00:27:00:00:11'
            neighbor:
              ip: 10.129.1.17
              asn: 4200858112
      run_list:
        - role[bootstrap]
    networking:
      interfaces:
        - network: r1t1
          transit_id: 0
        - network: r1t2
          transit_id: 1

  - host: r1n1
    group: headnodes
    hardware_profile: headnode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.2
        transit:
          - cidr: 10.129.1.3/28
            mac: '08:00:27:00:00:12'
            neighbor:
              ip: 10.129.1.1
              asn: 4200858111
          - cidr: 10.129.1.19/28
            mac: '08:00:27:00:00:13'
            neighbor:
              ip: 10.129.1.17
              asn: 4200858112
      run_list:
        - role[headnode]
    networking:
      interfaces:
        - network: r1t1
          transit_id: 0
        - network: r1t2
          transit_id: 1

  - host: r1n2
    group: worknodes
    hardware_profile: worknode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.3
        transit:
          - cidr: 10.129.1.4/28
            mac: '08:00:27:00:00:14'
            neighbor:
              ip: 10.129.1.1
              asn: 4200858111
          - cidr: 10.129.1.20/28
            mac: '08:00:27:00:00:15'
            neighbor:
              ip: 10.129.1.17
              asn: 4200858112
      run_list:
        - role[worknode]
        - role[storagenode]
    networking:
      interfaces:
        - network: r1t1
          transit_id: 0
        - network: r1t2
          transit_id: 1

  - host: r2n1
    group: headnodes
    hardware_profile: headnode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.4
        transit:
          - cidr: 10.129.2.3/28
            mac: '08:00:27:00:00:20'
            neighbor:
              ip: 10.129.2.1
              asn: 4200858121
          - cidr: 10.129.2.19/28
            mac: '08:00:27:00:00:21'
            neighbor:
              ip: 10.129.2.17
              asn: 4200858122
      run_list:
        - role[headnode]
    networking:
      interfaces:
        - network: r2t1
          transit_id: 0
        - network: r2t2
          transit_id: 1

  - host: r2n2
    group: worknodes
    hardware_profile: worknode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.5
        transit:
          - cidr: 10.129.2.4/28
            mac: '08:00:27:00:00:22'
            neighbor:
              ip: 10.129.2.1
              asn: 4200858121
          - cidr: 10.129.2.20/28
            mac: '08:00:27:00:00:23'
            neighbor:
              ip: 10.129.2.17
              asn: 4200858122
      run_list:
        - role[worknode]
        - role[storagenode]
    networking:
      interfaces:
        - network: r2t1
          transit_id: 0
        - network: r2t2
          transit_id: 1

  - host: r3n1
    group: headnodes
    hardware_profile: headnode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.6
        transit:
          - cidr: 10.129.3.3/28
            mac: '08:00:27:00:00:30'
            neighbor:
              ip: 10.129.3.1
              asn: 4200858131
          - cidr: 10.129.3.19/28
            mac: '08:00:27:00:00:31'
            neighbor:
              ip: 10.129.3.17
              asn: 4200858132
      run_list:
        - role[headnode]
    networking:
      interfaces:
        - network: r3t1
          transit_id: 0
        - network: r3t2
          transit_id: 1

  - host: r3n2
    group: worknodes
    hardware_profile: worknode
    host_vars:
      bgp:
        asn: 4200858000
      interfaces:
        service:
          ip: 10.65.0.7
        transit:
          - cidr: 10.129.3.4/28
            mac: '08:00:27:00:00:32'
            neighbor:
              ip: 10.129.3.1
              asn: 4200858131
          - cidr: 10.129.3.20/28
            mac: '08:00:27:00:00:33'
            neighbor:
              ip: 10.129.3.17
              asn: 4200858132
      run_list:
        - role[worknode]
        - role[storagenode]
    networking:
      interfaces:
        - network: r3t1
          transit_id: 0
        - network: r3t2
          transit_id: 1
